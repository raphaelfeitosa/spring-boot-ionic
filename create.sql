create table categorias (id int8 generated by default as identity, nome varchar(255), primary key (id));
create table cidades (id int8 generated by default as identity, nome varchar(255), estado_id int8, primary key (id));
create table clientes (id int8 generated by default as identity, cpf_ou_cnpj varchar(255), email varchar(255), nome varchar(255), tipo int4, primary key (id));
create table enderecos (id int4 generated by default as identity, bairro varchar(255), cep varchar(255), complemento varchar(255), logradouro varchar(255), numero varchar(255), cidade_id int8, cliente_id int8, primary key (id));
create table estados (id int8 generated by default as identity, nome varchar(255), primary key (id));
create table item_pedido (desconto float8, preco float8, quantidade int4, pedido_id int8 not null, produto_id int8 not null, primary key (pedido_id, produto_id));
create table pagamento_com_boleto (data_pamento timestamp, data_vencimento timestamp, pedido_id int8 not null, primary key (pedido_id));
create table pagamento_com_cartao (numero_parcelas int4, pedido_id int8 not null, primary key (pedido_id));
create table pagamentos (pedido_id int8 not null, estado int4, primary key (pedido_id));
create table pedidos (id int8 generated by default as identity, instante timestamp, cliente_id int8, endereco_de_entrega_id int4, primary key (id));
create table produto_categoria (produto_id int8 not null, categoria_id int8 not null);
create table produtos (id int8 generated by default as identity, nome varchar(255), preco float8, primary key (id));
create table telefone (cliente_id int8 not null, telefones varchar(255));
alter table if exists clientes add constraint UK_1c96wv36rk2hwui7qhjks3mvg unique (email);
alter table if exists cidades add constraint FKdt0b3ronwpi1upsrhaeq6r69n foreign key (estado_id) references estados;
alter table if exists enderecos add constraint FKi7v6nvtiwatf10fe6c8n7qbde foreign key (cidade_id) references cidades;
alter table if exists enderecos add constraint FKifst74rmma55fhyky5g1l0589 foreign key (cliente_id) references clientes;
alter table if exists item_pedido add constraint FKq6cx2t1dh4ikg93nvlpumswxx foreign key (pedido_id) references pedidos;
alter table if exists item_pedido add constraint FKmo38jw38syue22kf17cbggmv0 foreign key (produto_id) references produtos;
alter table if exists pagamento_com_boleto add constraint FK4mo5ujmlf4nggiibf5shan6pm foreign key (pedido_id) references pagamentos;
alter table if exists pagamento_com_cartao add constraint FKrj63neuhw82xm7ue8jj8j04hj foreign key (pedido_id) references pagamentos;
alter table if exists pagamentos add constraint FKb0dh6865y8h4irwdrl4ici3kl foreign key (pedido_id) references pedidos;
alter table if exists pedidos add constraint FKg7202lk0hwxn04bmdl2thth5b foreign key (cliente_id) references clientes;
alter table if exists pedidos add constraint FKhsl97shfvyeh79c8hg8cfug8 foreign key (endereco_de_entrega_id) references enderecos;
alter table if exists produto_categoria add constraint FKq73dxu7fw55sqpj0fgvnvh31b foreign key (categoria_id) references categorias;
alter table if exists produto_categoria add constraint FKd699xsx1mp9nqpa0jv40xj0i2 foreign key (produto_id) references produtos;
alter table if exists telefone add constraint FKa425wxqgdqd7sywlyuc0he75n foreign key (cliente_id) references clientes;
